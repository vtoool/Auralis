# Developer Guide: Auralis Spiritual Wellness Platform

This guide provides instructions on how to connect the backend, set up payments, and deploy this site.

---

## 1. Backend Setup with Supabase

Supabase is an open-source Firebase alternative that provides a PostgreSQL database, authentication, storage, and auto-generated APIs.

### Step 1: Create a Supabase Project

1.  Go to [supabase.com](https://supabase.com) and sign up or log in.
2.  Create a new project. Choose a strong database password and save it securely.

### Step 2: Create Database Tables

Navigate to the **SQL Editor** in your Supabase project dashboard and run the following SQL commands to create the necessary tables and add some initial data.

#### `courses` table

This table stores the course information for your platform.

```sql
-- Create the 'courses' table
CREATE TABLE public.courses (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ WITH TIME ZONE DEFAULT NOW() NOT NULL,
  title TEXT NOT NULL,
  description TEXT,
  type TEXT,
  price NUMERIC,
  "imageUrl" TEXT,
  paddle_product_id TEXT
);

-- Note: For development, it's easier to disable Row Level Security (RLS).
-- You should enable and configure RLS policies before going to production.
ALTER TABLE public.courses DISABLE ROW LEVEL SECURITY;

-- Optional: Insert some mock data to get started
INSERT INTO public.courses (title, description, type, price, "imageUrl", paddle_product_id)
VALUES
  ('Foundations of Mindfulness', 'Learn the core principles of mindfulness to reduce stress and increase presence in your daily life.', 'Video Course', 49.99, 'https://picsum.photos/400/300?random=10', 'prod_12345'),
  ('Morning Gratitude Meditation', 'Start your day with a positive mindset through this guided audio meditation focusing on gratitude.', 'Audio Meditation', 9.99, 'https://picsum.photos/400/300?random=11', 'prod_12346'),
  ('Chakra Balancing for Beginners', 'An introductory video course to understanding and balancing your seven chakras for spiritual well-being.', 'Video Course', 69.99, 'https://picsum.photos/400/300?random=12', 'prod_12347'),
  ('Deep Sleep Hypnosis', 'A soothing audio journey to help you release the day and drift into a deep, restorative sleep.', 'Audio Meditation', 14.99, 'https://picsum.photos/400/300?random=13', 'prod_12348');
```

#### `appointments` table

This table will store the bookings made through the appointments calendar.

```sql
-- Create the 'appointments' table
CREATE TABLE public.appointments (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ WITH TIME ZONE DEFAULT NOW() NOT NULL,
  name TEXT NOT NULL,
  email TEXT NOT NULL,
  date DATE NOT NULL,
  time TEXT NOT NULL
);

-- Disable RLS for development
ALTER TABLE public.appointments DISABLE ROW LEVEL SECURITY;
```

### Step 3: Get API Keys

Go to **Project Settings > API**. You will need the **Project URL** and the **`anon` public key**.

### Step 4: Connect Frontend to Supabase

First, install the Supabase client library:

```bash
npm install @supabase/supabase-js
```

Create a file, for example `services/supabaseClient.ts`, and initialize the client. Look for the `// TODO:` comments in the code to see where to integrate this.

```javascript
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = 'YOUR_SUPABASE_PROJECT_URL'
const supabaseAnonKey = 'YOUR_SUPABASE_ANON_KEY'

export const supabase = createClient(supabaseUrl, supabaseAnonKey)
```

---

## 2. Payment Integration with Paddle

Paddle provides a complete payments infrastructure for SaaS businesses.

### Step 1: Setup Paddle

1.  Create an account on [Paddle](https://paddle.com).
2.  Go to your **Catalog > Products** and create products for each of your courses. Note the **Product ID** for each.
3.  Go to **Developer Tools > Authentication** to get your **Vendor ID**.

### Step 2: Integrate Paddle.js

Add the Paddle.js script to your `index.html` head:

```html
<script src="https://cdn.paddle.com/paddle/paddle.js"></script>
```

Then, initialize Paddle in your `App.tsx` or a similar top-level component, ideally inside a `useEffect` hook:

```javascript
useEffect(() => {
  window.Paddle.Setup({ vendor: YOUR_VENDOR_ID });
}, []);
```
*Note: You may need to add `window.Paddle` to your TypeScript declarations to avoid errors.*

### Step 3: Trigger Checkout

In `CourseCard.tsx`, update the `handleBuyNow` function to use the Paddle product ID you stored in your Supabase `courses` table.

```javascript
const handleBuyNow = (paddleId) => {
  window.Paddle.Checkout.open({
    product: paddleId,
    // You can also pass customer email, etc.
  });
};
```

---

## 3. Deployment with Vercel

Vercel is a platform for frontend developers, providing an excellent deployment experience.

### Step 1: Push to a Git Provider

Make sure your project is a Git repository and pushed to GitHub, GitLab, or Bitbucket.

### Step 2: Import Project on Vercel

1.  Log in to [Vercel](https://vercel.com) with your Git provider account.
2.  Click "Add New..." > "Project".
3.  Import the Git repository for this project.

### Step 3: Configure Environment Variables

In the Vercel project settings, go to **Settings > Environment Variables**. Add the keys you got from Supabase and Paddle. They must be prefixed with `VITE_` to be exposed to the browser.

-   `VITE_SUPABASE_URL`: Your Supabase Project URL.
-   `VITE_SUPABASE_ANON_KEY`: Your Supabase `anon` public key.
-   `VITE_PADDLE_VENDOR_ID`: Your Paddle Vendor ID.

Update your code to use these variables (e.g., `import.meta.env.VITE_SUPABASE_URL`).

### Step 4: Deploy

Vercel will automatically detect that this is a Vite/React project. Click **Deploy**. Your site will be live in minutes!