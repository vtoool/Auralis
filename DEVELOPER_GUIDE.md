# Developer Guide: Auralis Wellness Platform

This guide provides instructions on how to set up the backend, integrate payments, and deploy the Auralis wellness platform application.

## Quick Start: Prerequisites

Before you begin, make sure you have the following installed:

*   **Node.js and npm:** Required to run the project and install packages.
*   **A code editor:** Such as VS Code.
*   **Git:** For version control and deployment.

---

## 1. Backend Setup with Supabase

Supabase is an open-source Firebase alternative providing a PostgreSQL database, authentication, and auto-generated APIs.

### Step 1: Create a Supabase Project

1.  Go to [supabase.com](https://supabase.com) and sign up/log in.
2.  Create a new project. Choose a strong database password and save it securely.

### Step 2: Run the Database Setup Script

Navigate to the **SQL Editor** in your Supabase dashboard. Click "+ New query" and paste the entire script below. This will create your `courses` and `appointments` tables and add the sample course data in one step.

```sql
-- 1. Create the 'courses' table
CREATE TABLE public.courses (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  title TEXT NOT NULL,
  description TEXT,
  type TEXT,
  price NUMERIC,
  "imageUrl" TEXT,
  duration TEXT,
  paddle_product_id TEXT
);

-- 2. Disable Row Level Security (RLS) for easy development.
-- NOTE: You should enable and configure RLS policies before going to production.
ALTER TABLE public.courses DISABLE ROW LEVEL SECURITY;

-- 3. Insert mock data to populate the courses section
INSERT INTO public.courses (title, description, type, price, "imageUrl", duration, paddle_product_id)
VALUES
  ('Foundations of Mindfulness', 'A comprehensive video series teaching the core principles of mindfulness to reduce stress and cultivate presence.', 'Video Course', 49.99, 'https://picsum.photos/400/300?random=10', '4 Hours', 'prod_12345'),
  ('Morning Gratitude Meditation', 'Begin each day with a positive and grateful mindset through this beautifully guided audio meditation.', 'Audio Meditation', 9.99, 'https://picsum.photos/400/300?random=11', '15 Mins', 'prod_12346'),
  ('Chakra Balancing for Beginners', 'An introductory video course to understanding, clearing, and balancing your seven chakras for spiritual well-being.', 'Video Course', 69.99, 'https://picsum.photos/400/300?random=12', '6 Hours', 'prod_12347'),
  ('Deep Sleep Hypnosis', 'A soothing audio journey designed to help you release the day and drift into a deep, restorative, and peaceful sleep.', 'Audio Meditation', 14.99, 'https://picsum.photos/400/300?random=13', '30 Mins', 'prod_12348');

-- 4. Create the 'appointments' table
CREATE TABLE public.appointments (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  name TEXT NOT NULL,
  email TEXT NOT NULL,
  date DATE NOT NULL,
  time TEXT NOT NULL
);

-- 5. Disable RLS for the appointments table
ALTER TABLE public.appointments DISABLE ROW LEVEL SECURITY;
```

### Step 3: Get API Keys

Go to **Project Settings > API**. You will need the **Project URL** and the **`anon` public key**. You'll use these in the next step and for deployment.

### Step 4: Connect Frontend to Supabase

First, install the Supabase client library:
```bash
npm install @supabase/supabase-js
```
Create a file (e.g., `src/services/supabaseClient.ts`) and add the following code. The `// TODO:` comments in the components show where you can now import and use this `supabase` client.

```typescript
import { createClient } from '@supabase/supabase-js'

// IMPORTANT: Use environment variables for these.
// See the Deployment section for how to set these up.
const supabaseUrl = import.meta.env.VITE_SUPABASE_URL
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseAnonKey)
```

---

## 2. Payment Integration with Paddle

Paddle provides a complete payments infrastructure.

### Step 1: Setup Paddle

1.  Create an account on [Paddle](https://paddle.com).
2.  Go to **Catalog > Products** and create products for each course. Note the **Product ID** for each.
3.  Go to **Developer Tools > Authentication** to get your **Vendor ID**.

### Step 2: Integrate Paddle.js

Add the Paddle.js script to your `index.html` head:
```html
<script src="https://cdn.paddle.com/paddle/js/paddle.js"></script>
```

Then, initialize Paddle in your `App.tsx` (or a similar top-level component) inside a `useEffect` hook. You'll set your Vendor ID as an environment variable later.
```typescript
import React, { useEffect } from 'react';

// In your main App.tsx or a layout component
useEffect(() => {
  // Ensure the Paddle script has loaded
  if ((window as any).Paddle) {
    (window as any).Paddle.Setup({ vendor: import.meta.env.VITE_PADDLE_VENDOR_ID });
  }
}, []);
```

### Step 3: Trigger Checkout

In `CourseCard.tsx`, update the `handleBuyNow` function to use the Paddle product ID you stored in your Supabase `courses` table.
```typescript
const handleBuyNow = (paddleId) => {
  if ((window as any).Paddle) {
    (window as any).Paddle.Checkout.open({
      product: paddleId,
      // You can also pass customer email, etc.
      // email: 'customer@example.com',
    });
  }
};
```

---

## 3. Deployment with Vercel

Vercel is a platform for frontend developers, providing an excellent deployment experience.

### Step 1: Push to a Git Provider

Make sure your project is a Git repository and pushed to GitHub, GitLab, or Bitbucket.

### Step 2: Import Project on Vercel

1.  Log in to [Vercel](https://vercel.com) with your Git provider account.
2.  Click "Add New..." > "Project".
3.  Import the Git repository for this project.

### Step 3: Configure Environment Variables

In the Vercel project settings, go to **Settings > Environment Variables**. Add the keys from Supabase and Paddle. They **must be prefixed with `VITE_`** to be exposed to your frontend code.

*   `VITE_SUPABASE_URL`: Your Supabase Project URL.
*   `VITE_SUPABASE_ANON_KEY`: Your Supabase `anon` public key.
*   `VITE_PADDLE_VENDOR_ID`: Your Paddle Vendor ID.

Your code (`supabaseClient.ts`, etc.) should already be set up to use these variables with `import.meta.env.VITE_...`

### Step 4: Deploy

Vercel will automatically detect the correct framework settings. Click "Deploy". Your site will be live in minutes!